<!DOCTYPE html>
<html lang="en-us" ng-app="CampusMap" ng-controller="searchController">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta content="RPI Interactive Campus Map" name="description">
  <meta content="Interactive, rpi map, rpi campus map, map, rpi" name="keywords">

  <title>Search Results - "{{params.query}}"</title>

  <link rel="icon" href="/public/images/favicon.ico" type="image/x-icon">

  <!-- CSS Files -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
  <link href="/public/style/style.css" rel="stylesheet" type="text/css" />
  <link href="/public/style/searchResults.css" rel="stylesheet" type="text/css" />

  <!-- Map required Scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="/public/controllers/app.js"></script>
  <script src="/public/controllers/searchController.js"></script>

</head>

<body>
  <div id="container">

    <!-- Header -->
    <header id="header">

      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-dark bg-danger">
        <a class="navbar-brand" href="/">
          <img id="logo" src="/public/images/logo.png" height=40px alt="RPI Campus Map" />
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="/">Back to Map</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/search?query=">Browse</a>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <!-- Main content -->
    <main role="main" class="flex-shrink-0">
      <div class="container">
        <!-- Search bar-->
        <!--
          <form action="/search" method="get" class="form-inline my-2 my-lg-0">
            <input id="searchText" ng-model="query" type="search" name="query" placeholder="Enter a location..." class="form-control mr-sm-2" aria-label="Search">
            <input id="searchButton" type="submit" value="Search" class="btn btn-light my-2 my-sm-0" ng-click="search(query);">
          </form>
          
          <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Recipient's username" aria-label="Recipient's username" aria-describedby="button-addon2">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button" id="button-addon2">Button</button>
            </div>
          </div>
        -->
        <br>

        <form action="/search" method="get" class="form-inline py-2">
          <input id="searchText" ng-model="query" style="width: 90%;" type="search" name="query"
            placeholder="Enter a location..." class="form-control form-control-lg mr-sm-2" aria-label="Search">
          <input id="searchButton" type="submit" value="Search" class="btn btn-lg btn-light my-2 my-sm-0"
            ng-click="search(query);">
        </form>



        <h5 class="py-4">Search Results - "{{params.query}}"</h5>

        <a href="/info?loc={{b.id}}" ng-repeat="b in buildings" class="bg-light card mb-3 container-fluid"
          style="text-decoration:none; color:black">
          <div class="row no-gutters">
            <div class="col-md-4">
              <img src="/public/images/pin.png" style="max-width: 100px;" class="card-img" alt="...">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">{{b.properties.name}}</h5>
                <p class="card-text">{{b.properties.description}}</p>
                <p class="card-text">Nicknames: {{b.properties.nick}}</p>
              </div>
            </div>
          </div>
        </a>

      </div>
    </main>

    <!-- footer -->
    <footer class="container-fluid py-2 bg-danger align-items-center">
      <div class="row justify-content-center">
        <!-- <div class="col-2 text-right">
        <a href="https://rpi.edu/" target="_blank">
          <img id="seal" src="/public/images/seal.png" width=50 height=50 alt="Rensselaer Polytechnic Institute"/>
        </a>
      </div> -->
        <div id="footerText" class="col text-center">
          -- RPI Interactive Campus Map --<br>
          <a href="https://rcos.io/projects/gaskij/rpicampusmap/profile" target="_blank">An RCOS Project</a> --
          <a href="https://github.com/gaskij/rpicampusmap"><i class="fab fa-github"></i> GitHub</a> --
          <a href="/admin">Admin Panel</a>
        </div>
      </div>
    </footer>
  </div>

  <!-- Bootstrap Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous">
  </script>
</body>

</html>